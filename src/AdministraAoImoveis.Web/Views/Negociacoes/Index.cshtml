@model NegotiationBoardViewModel
@{
    ViewData["Title"] = "Negociações";
}
<section class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4">
    @foreach (var coluna in Model.Colunas)
    {
        <div class="card">
            <h3 class="card-title">@coluna.Key</h3>
            <p class="text-xs text-slate-500 mb-2">@coluna.Value.Count negociação(ões)</p>
            <div class="space-y-2 max-h-80 overflow-y-auto">
                @if (!coluna.Value.Any())
                {
                    <div class="empty-state">Sem itens</div>
                }
                else
                {
                    foreach (var negociacao in coluna.Value)
                    {
                        <article class="rounded border border-slate-200 p-3 bg-slate-50">
                            <header class="flex justify-between text-sm">
                                <span class="font-semibold">@negociacao.Imovel?.CodigoInterno</span>
                                <span>@negociacao.Interessado?.Nome</span>
                            </header>
                            <p class="text-xs text-slate-500 mt-2">Criada em @negociacao.CreatedAt:dd/MM/yyyy</p>
                            @if (negociacao.ReservadoAte.HasValue)
                            {
                                <p class="text-xs text-orange-600">Reservado até @negociacao.ReservadoAte:dd/MM/yyyy HH:mm</p>
                            }
                        </article>
                    }
                }
            </div>
        </div>
    }
</section>
